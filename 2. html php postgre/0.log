mi-app/
â”œâ”€â”€ frontend/        â† HTML / CSS / JS (HOST)
â”œâ”€â”€ backend/         â† Laravel (HOST)
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ php/         â† Dockerfile PHP
â””â”€â”€ docker-compose.yml

ðŸŸ¢ PASO 1 â€” Crear la carpeta del proyecto (HOST)
mkdir mi-app
cd mi-app


ðŸŸ¢ PASO 2 â€” Crear el FRONTEND (HOST) desde mi-app
mkdir frontend
nano frontend/index.html
    >  <h1>Hola desde el Frontend</h1>


ðŸŸ¢ PASO 3 â€” Crear el BACKEND Laravel (HOST) desde mi-app
mkdir backend

docker run --rm -it -v $(pwd)/backend:/app composer create-project laravel/laravel .


ðŸŸ¢ PASO 4 â€” Crear Dockerfile para PHP (ENTORNO)
mkdir -p docker/php
nano docker/php/Dockerfile
    >   FROM php:8.3-fpm

        RUN apt-get update && apt-get install -y \
            libpq-dev \
            unzip \
            git \
            curl \
            && docker-php-ext-install pdo pdo_pgsql

        WORKDIR /var/www/html


ðŸŸ¢ PASO 5 â€” Crear docker-compose.yml (ORQUESTADOR)
nano docker-compose.yml

version: "3.9"

services:
  frontend:
    image: nginx:alpine
    ports:
      - "8080:80"
    volumes:
      - ./frontend:/usr/share/nginx/html
    restart: unless-stopped

  backend:
    build: ./docker/php
    volumes:
      - ./backend:/var/www/html
    restart: unless-stopped

  db:
    image: postgres:16
    environment:
      POSTGRES_DB: appdb
      POSTGRES_USER: appuser
      POSTGRES_PASSWORD: secret
    volumes:
      - pgdata:/var/lib/postgresql/data
    restart: unless-stopped

volumes:
  pgdata:




ðŸŸ¢ PASO 6 â€” Arrancar TODO
docker compose up -d


ðŸŸ¢ PASO 7 â€” Verificar que todo funciona
http://localhost:8080
